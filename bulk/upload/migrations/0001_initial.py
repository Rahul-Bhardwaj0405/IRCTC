# Generated by Django 5.1.2 on 2024-11-27 08:06

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Rail_Ticket_Refund',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('Reservation_Id', models.CharField(max_length=50)),
                ('Transaction_Date', models.DateField()),
                ('Bank_Txn_Id', models.CharField(blank=True, max_length=50, null=True)),
                ('Bank_Refund_Txn_Id', models.CharField(blank=True, max_length=50, null=True)),
                ('Refund_Amount', models.FloatField(blank=True)),
                ('Refund_Status', models.CharField(blank=True, max_length=25, null=True)),
                ('Bank_Name', models.CharField(blank=True, max_length=25, null=True)),
                ('Actual_Refund_Date', models.DateField(blank=True, null=True)),
                ('Bank_id', models.CharField(blank=True, max_length=25, null=True)),
                ('Cancellation_id', models.CharField(blank=True, max_length=25, null=True)),
                ('Refund_pg_id', models.CharField(blank=True, max_length=125, null=True)),
                ('Actual_Debit_Date', models.DateField(blank=True, null=True)),
                ('Refund_Recon_Status', models.CharField(blank=True, max_length=25, null=True)),
                ('Otp_Flag', models.CharField(blank=True, max_length=25, null=True)),
                ('Reversal_Date1', models.DateField(blank=True, null=True)),
                ('Reversal_Date2', models.DateField(blank=True, null=True)),
                ('Reversal_Status', models.CharField(blank=True, max_length=25, null=True)),
                ('Debit_Amount', models.FloatField(blank=True, null=True)),
                ('Reversal_Amount', models.FloatField(blank=True, null=True)),
                ('Reversal1_Amount', models.FloatField(blank=True, null=True)),
                ('File_upload_Date', models.DateTimeField(blank=True, null=True)),
                ('User_name', models.CharField(blank=True, max_length=25, null=True)),
                ('Db_Summary_Trans', models.CharField(blank=True, max_length=25, null=True)),
                ('Match_Summary_Trans', models.CharField(blank=True, max_length=25, null=True)),
                ('product_type', models.CharField(blank=True, max_length=25, null=True)),
                ('mpr_trans_status', models.CharField(blank=True, max_length=25, null=True)),
                ('bank_extra_ref', models.CharField(blank=True, max_length=50, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Rail_Ticket_Sale',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('Reservation_Id', models.CharField(max_length=50, unique=True)),
                ('Booking_Date', models.DateField()),
                ('Bank_Txn_Number', models.CharField(max_length=50)),
                ('Sale_Amount', models.FloatField(blank=True)),
                ('Bank_id', models.CharField(max_length=10)),
                ('Bank_Name', models.CharField(blank=True, max_length=25)),
                ('Sale_pg_id', models.CharField(blank=True, max_length=125, null=True)),
                ('Actual_Credit_Date', models.DateField(blank=True, null=True)),
                ('Sale_Recon_Status', models.CharField(blank=True, max_length=25, null=True)),
                ('Credit_Amount', models.FloatField(blank=True, null=True)),
                ('File_upload_Date', models.DateTimeField(blank=True, null=True)),
                ('User_name', models.CharField(blank=True, max_length=25, null=True)),
                ('Db_Summary_Trans', models.CharField(blank=True, max_length=10, null=True)),
                ('Match_Summary_Trans', models.CharField(blank=True, max_length=10, null=True)),
                ('product_type', models.CharField(blank=True, max_length=25, null=True)),
                ('mpr_trans_status', models.CharField(blank=True, max_length=25, null=True)),
                ('bank_extra_ref', models.CharField(blank=True, max_length=50, null=True)),
                ('Entity_Code', models.CharField(blank=True, max_length=10, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='BankDetails',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bank_name', models.CharField(max_length=100)),
                ('bank_id', models.CharField(max_length=20, unique=True)),
                ('mid', models.CharField(max_length=50, unique=True)),
                ('merchant_name', models.CharField(max_length=100)),
                ('transaction_type', models.CharField(choices=[('SALE', 'SALE'), ('REFUND', 'REFUND'), ('NET SETTLED', 'NET SETTLED')], max_length=20)),
            ],
            options={
                'unique_together': {('bank_id', 'mid')},
            },
        ),
        migrations.CreateModel(
            name='BankMapping',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bank_id', models.CharField(max_length=50)),
                ('bank_name', models.CharField(max_length=50)),
                ('transaction_type', models.CharField(max_length=50)),
                ('headers', models.JSONField()),
                ('validation_rules', models.JSONField()),
                ('bank_mapping_rule_name', models.CharField(max_length=100)),
            ],
            options={
                'constraints': [models.UniqueConstraint(fields=('bank_name', 'transaction_type', 'headers'), name='unique_bank_mapping')],
            },
        ),
        migrations.CreateModel(
            name='Transaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('Merchant_Name', models.CharField(blank=True, max_length=50, null=True)),
                ('MID', models.CharField(blank=True, max_length=50)),
                ('Transaction_Id', models.CharField(blank=True, max_length=50, null=True)),
                ('Order_Id', models.CharField(blank=True, max_length=50, null=True)),
                ('Transaction_Date', models.DateField(blank=True, null=True)),
                ('Settlement_Date', models.DateField(blank=True, null=True)),
                ('Refund_Request_Date', models.DateField(blank=True, null=True)),
                ('Transaction_type', models.CharField(blank=True, max_length=50)),
                ('Gross_Amount', models.FloatField(blank=True, null=True)),
                ('Aggregator_Com', models.FloatField(blank=True, null=True)),
                ('Acquirer_Comm', models.FloatField(blank=True, null=True)),
                ('Payable_Merchant', models.FloatField(blank=True)),
                ('Payout_from_Nodal', models.FloatField(blank=True, null=True)),
                ('BankName_Receive_Funds', models.CharField(blank=True, max_length=50, null=True)),
                ('Nodal_Account_No', models.CharField(blank=True, max_length=50, null=True)),
                ('Aggregator_Name', models.CharField(blank=True, max_length=50, null=True)),
                ('Acquirer_Name', models.CharField(blank=True, max_length=50, null=True)),
                ('Refund_Flag', models.CharField(blank=True, max_length=10, null=True)),
                ('Payments_Type', models.CharField(blank=True, max_length=50, null=True)),
                ('MOP_Type', models.CharField(blank=True, max_length=50, null=True)),
                ('Credit_Debit_Date', models.DateField(blank=True, null=True)),
                ('Bank_Name', models.CharField(blank=True, max_length=15, null=True)),
                ('Refund_Order_Id', models.CharField(blank=True, max_length=50, null=True)),
                ('Acq_Id', models.CharField(blank=True, max_length=125, null=True)),
                ('Approve_code', models.CharField(blank=True, max_length=50, null=True)),
                ('Arn_No', models.CharField(blank=True, max_length=150, null=True)),
                ('Card_No', models.CharField(blank=True, max_length=150, null=True)),
                ('Tid', models.CharField(blank=True, max_length=125, null=True)),
                ('Remarks', models.CharField(blank=True, max_length=50, null=True)),
                ('Bank_Ref_id', models.CharField(blank=True, max_length=125, null=True)),
                ('File_upload_Date', models.DateTimeField(blank=True, null=True)),
                ('User_name', models.CharField(blank=True, max_length=25, null=True)),
                ('Recon_Status', models.CharField(blank=True, max_length=25, null=True)),
                ('Mpr_Summary_Trans', models.CharField(blank=True, max_length=10, null=True)),
                ('Merchant_code', models.CharField(blank=True, max_length=50, null=True)),
                ('Rec_Fmt', models.CharField(blank=True, max_length=50, null=True)),
                ('Card_type', models.CharField(blank=True, max_length=100, null=True)),
                ('Intl_Amount', models.FloatField(blank=True, null=True)),
                ('Domestic_Amount', models.FloatField(blank=True, null=True)),
                ('UDF1', models.CharField(blank=True, max_length=300, null=True)),
                ('UDF2', models.CharField(blank=True, max_length=300, null=True)),
                ('UDF3', models.CharField(blank=True, max_length=300, null=True)),
                ('UDF4', models.CharField(blank=True, max_length=300, null=True)),
                ('UDF5', models.CharField(blank=True, max_length=300, null=True)),
                ('UDF6', models.CharField(blank=True, max_length=300, null=True)),
                ('GST_Number', models.CharField(blank=True, max_length=50, null=True)),
                ('Credit_Debit_Amount', models.CharField(blank=True, max_length=6, null=True)),
                ('Railticketrefund', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='railticketrefund', to='upload.rail_ticket_refund')),
                ('Railticketsaler', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='railticketsale', to='upload.rail_ticket_sale')),
            ],
            options={
                'indexes': [models.Index(fields=['Order_Id', 'Transaction_Id'], name='upload_tran_Order_I_4dda07_idx')],
            },
        ),
    ]
